<form [formGroup]=" loginForm">
  <div class="my-8">  

   <!-- input failed "user email" -->
@let email = loginForm.get('email');

   <div class="mt-3">
        <div class="relative">
          <input formControlName="email"
          type="email" id="UserEmail" 
          class="peer main-input" placeholder=" "
             [class.border-red-600]=" email?.touched && email?.getError('required')"
          [class.border-red-600]=" email?.touched && email?.getError('email')"
          [class.border-red-600]=" email?.touched && email?.getError('email')"
          />
          <label for="UserEmail" 
          class=" main-label peer-focus:text-fg-brand peer-placeholder-shown:scale-100 
          peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-4 rtl:peer-focus:translate-x-1/4 rtl:peer-focus:left-auto">
          User Email :</label>
      </div>
      @if ( email?.touched &&email?.errors) {
     <div>
    <div class="flex p-4 mb-4 text-sm text-fg-danger-strong rounded-base bg-danger-soft border border-danger-subtle" role="alert">
  <svg class="w-4 h-4 me-2 shrink-0" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 11h2v5m-2 0h4m-2.592-8.5h.01M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"/></svg>
  <span class="sr-only">Danger</span>
  <div>
    <span class="font-medium">Ensure that these requirements are met:</span>
      <ul class="mt-2 list-disc list-outside space-y-1 ps-2.5">
@if (email?.getError('required')) {
          <li>Required</li>
}
@if (email?.getError('email')) {
          <li>email not valid</li>
}


    </ul>
  </div>
</div>
   </div>
}
   </div>


      <!-- input failed "user password" -->
@let pass = loginForm.get('password');

   <div class="mt-3">
        <div class="relative">
          <input formControlName="password"
          [type]="isShowPass?'text':'password'" id="password" 
          class="peer main-input" placeholder=" " 
           [class.border-red-600]=" pass?.touched && pass?.getError('required')"
          [class.border-red-600]=" pass?.touched && pass?.getError('pattern')"
          />
          <label for="password" 
          class=" main-label peer-focus:text-fg-brand peer-placeholder-shown:scale-100 
          peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-4 rtl:peer-focus:translate-x-1/4 rtl:peer-focus:left-auto">
          User password :</label>

          <button (click)="isShowPass=!isShowPass" class="cursor-pointer absolute top-1/2 end-2 -translate-y-1/2">

            @if (!isShowPass) {
       <i class="fas fa-eye-slash"></i>
            }@else {
      <i class="fas fa-eye"></i>
            }
          
          </button>
      </div>
            @if ( pass?.touched &&pass?.errors) {
     <div>
    <div class="flex p-4 mb-4 text-sm text-fg-danger-strong rounded-base bg-danger-soft border border-danger-subtle" role="alert">
  <svg class="w-4 h-4 me-2 shrink-0" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 11h2v5m-2 0h4m-2.592-8.5h.01M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"/></svg>
  <span class="sr-only">Danger</span>
  <div>
    <span class="font-medium">Ensure that these requirements are met:</span>
      <ul class="mt-2 list-disc list-outside space-y-1 ps-2.5">
@if (pass?.getError('required')) {
          <li>Required</li>
}
@if (pass?.getError('pattern')) {
          <li>password not valid</li>
}


    </ul>
  </div>
</div>
   </div>
}
   </div>



    <div class="flex gap-3">
        <button (click)="submitData()" class="btn-main w-full mt-3 ">login
         @if (isLoading) {
           <i class="fas fa-spinner fa-spin"></i>
         }
        </button>
        <button routerLink="/Forget-password" class="btn-main w-full mt-3 ">Forget-password
       <!--   @if (isLoading) {
           <i class="fas fa-spinner fa-spin"></i>
         } -->
        </button>
    </div>

    @if (SuccessMessage) {
      <div class="mt-2">
        <div class="bg-green-200 border-l-4 border-green-500 text-green-800 font-bold p-4" role="alert">
          <p class="font-bold"></p>
          <p>{{SuccessMessage}}</p>
          <p>You will be redirected in {{redirectCounter}} seconds...</p>
        </div>
      </div>
    }
@if (errorMessage) {
  <div class="mt-2">
  <div class="bg-red-300 border-l-4 border-red-500 text-black p-4" role="alert">
    <p class="font-bold">
      {{errorMessage}}
    </p>
    <p></p>
  </div>
</div>
}

</div>
</form>
